---
title: AVG
lesson: 'LESSON 4'
date: '999-12-14'
draft: false
summary: The `AVG` is used to find out the average of a column. It is only used on numerical values.
layout: PostSimple
level: Intermediate
---

The `AVG` is used to find out the average of a column. It is only used on numerical values.

**For Example:**

``` SQL
select avg(salary) from employees;
```

The above code will give the average of `salary` from <a href="/blog/Introduction">`employees`</a>. 

**Result:**

<img src="/static/images/Pastedimage20231116153449.png" width="600" />

As you can see in the above example, the average of `salary` is 8041.9354838709677419.

# Ecto query for `avg`

### [avg/1](https://hexdocs.pm/ecto/Ecto.Query.API.html#avg/1)

`avg/1` is used to get the average of fields in a schema.  

**Expressions**

**For Example:**

``` Elixir
HR.Employee |> select([c], avg(c.salary)) |> HR.Repo.all()
```

`avg(c.salary)` will give the average of column `salary` from `HR.Employee`. Here, `c` is the reference variable that refers to `HR.Employee`. Refer <a href="/blog/Aliases in Ecto">Aliases in Ecto</a> to know about aliases/reference variables.

**Result:**

```Elixir
iex(64)> HR.Employee |> select([c], avg(c.salary)) |> HR.Repo.all()
[Decimal.new("8041.9354838709677419")]
```

As you can see in the above example, the average of `salary` is 8041.9354838709677419.

**Expressions**

```Elixir
HR.Repo.all(from c in HR.Employee, select: avg(c.salary)) 
```

`select:` is a key. `c` is a value that is a reference variable for `HR.Employee`. 